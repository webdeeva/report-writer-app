{
  "version": 3,
  "sources": ["../../src/weasy-print/index.js", "../../src/services/weasyPrintYearlyReportGenerator.js"],
  "sourcesContent": ["/**\n * WeasyPrint PDF Generator\n * \n * This module provides a Node.js interface to the WeasyPrint PDF generator.\n * It uses child_process to call the Python script.\n */\n\nimport { spawn } from 'child_process';\nimport path from 'path';\nimport fs from 'fs';\nimport { fileURLToPath } from 'url';\n\n// Get the current file's directory\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Path to the Python virtual environment\nconst VENV_PATH = process.env.NODE_ENV === 'production' ? '/app/venv' : path.join(process.cwd(), 'venv');\n// Path to the Python script\nconst SCRIPT_PATH = path.join(process.cwd(), 'weasy_pdf_generator.py');\n\n/**\n * Generate a PDF from HTML content\n * \n * @param {Object} options - The options for generating the PDF\n * @param {string} options.html - The HTML content to convert\n * @param {string} [options.output] - The path to save the PDF to\n * @param {string} [options.css] - Additional CSS content to apply\n * @returns {Promise<Buffer|string>} - A promise that resolves to the PDF content as a Buffer or the path to the saved PDF\n */\nfunction generatePdf(options) {\n  return new Promise((resolve, reject) => {\n    // Validate options\n    if (!options || !options.html) {\n      return reject(new Error('HTML content is required'));\n    }\n\n    // Ensure the output directory exists if output path is provided\n    if (options.output) {\n      const outputDir = path.dirname(options.output);\n      if (!fs.existsSync(outputDir)) {\n        fs.mkdirSync(outputDir, { recursive: true });\n      }\n    }\n\n    // Determine the Python executable path\n    const pythonPath = process.platform === 'win32' \n      ? path.join(VENV_PATH, 'Scripts', 'python.exe')\n      : path.join(VENV_PATH, 'bin', 'python3');\n\n    // Prepare the input data\n    const inputData = JSON.stringify({\n      html: options.html,\n      output: options.output,\n      css: options.css\n    });\n\n    // Spawn the Python process\n    const pythonProcess = spawn(pythonPath, [SCRIPT_PATH, inputData]);\n\n    // Collect stdout data\n    let stdoutData = '';\n    pythonProcess.stdout.on('data', (data) => {\n      stdoutData += data.toString();\n    });\n\n    // Collect stderr data\n    let stderrData = '';\n    pythonProcess.stderr.on('data', (data) => {\n      stderrData += data.toString();\n    });\n\n    // Handle process completion\n    pythonProcess.on('close', (code) => {\n      if (code !== 0) {\n        return reject(new Error(`Python process exited with code ${code}: ${stderrData}`));\n      }\n\n      try {\n        // Parse the JSON output\n        const result = JSON.parse(stdoutData);\n\n        if (!result.success) {\n          return reject(new Error(result.error || 'Unknown error'));\n        }\n\n        if (result.path) {\n          // Return the path to the saved PDF\n          resolve(result.path);\n        } else if (result.pdf) {\n          // Return the PDF content as a Buffer\n          resolve(Buffer.from(result.pdf, 'base64'));\n        } else {\n          reject(new Error('No PDF content or path returned'));\n        }\n      } catch (error) {\n        reject(new Error(`Failed to parse Python output: ${error.message}`));\n      }\n    });\n\n    // Handle process error\n    pythonProcess.on('error', (error) => {\n      reject(new Error(`Failed to start Python process: ${error.message}`));\n    });\n  });\n}\n\nexport {\n  generatePdf\n};\n", "/**\n * WeasyPrint Yearly Report Generator Service\n * \n * This service generates yearly reports using WeasyPrint for high-quality PDF output.\n */\n\nimport { generatePdf } from '../weasy-print/index.js';\nimport path from 'path';\nimport fs from 'fs';\nimport { join } from 'path';\n\n// Card suit symbols\nconst SUIT_SYMBOLS = {\n  'S': '\u2660',\n  'H': '\u2665',\n  'D': '\u2666',\n  'C': '\u2663'\n};\n\n/**\n * Generate a yearly or life report using WeasyPrint\n * \n * @param {Object} params - The parameters for the report\n * @param {string} params.name - The person's name\n * @param {string} params.birthDate - The person's birth date\n * @param {number} params.age - The person's age\n * @param {string} params.birthCard - The person's birth card\n * @param {string} params.displacingCard - The person's displacing card (only for yearly reports)\n * @param {Object} params.yearlySpread - The spread data\n * @param {string} params.analysis - The analysis content\n * @param {string} [params.email] - The person's email (optional)\n * @param {boolean} [params.includeAstrology] - Whether to include astrology (optional)\n * @param {boolean} [params.includeTarot] - Whether to include tarot (optional)\n * @param {boolean} [params.includeNumerology] - Whether to include numerology (optional)\n * @param {string} [params.type] - The report type ('yearly' or 'life')\n * @param {number} [params.person1_id] - The person's ID (optional)\n * @returns {Promise<Buffer>} The PDF buffer\n */\nasync function generateWeasyPrintYearlyReport(params) {\n  try {\n    const isLifeReport = params.type === 'life';\n    const reportType = isLifeReport ? 'life' : 'yearly';\n    \n    console.log(`=== WEASYPRINT ${reportType.toUpperCase()} REPORT SERVICE STARTED ===`);\n    console.log(`Generating ${reportType} report for:`, params.name);\n    \n    // Format the birth date with timezone handling\n    // Parse the date parts to avoid timezone issues\n    let birthDate;\n    if (typeof params.birthDate === 'string') {\n      // If it's a date string like YYYY-MM-DD\n      if (/^\\d{4}-\\d{2}-\\d{2}$/.test(params.birthDate)) {\n        const [year, month, day] = params.birthDate.split('-').map(Number);\n        birthDate = new Date(year, month - 1, day); // Month is 0-indexed in JS Date\n      } \n      // If it's an ISO string, extract just the date part\n      else if (params.birthDate.includes('T')) {\n        const datePart = params.birthDate.split('T')[0];\n        const [year, month, day] = datePart.split('-').map(Number);\n        birthDate = new Date(year, month - 1, day); // Month is 0-indexed in JS Date\n      } \n      // Otherwise, create a Date object directly\n      else {\n        birthDate = new Date(params.birthDate);\n      }\n    } else {\n      // If it's already a Date object\n      birthDate = params.birthDate;\n    }\n    \n    const formattedBirthDate = birthDate.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      timeZone: 'UTC' // Use UTC to avoid timezone issues\n    });\n    \n    // Format the yearly spread\n    const formattedYearlySpread = formatYearlySpread(params.yearlySpread);\n    \n    // Generate karma content\n    const karmaContent = generateKarmaContent(formattedYearlySpread);\n    \n    // Generate the HTML content\n    const htmlContent = generateHtmlTemplate({\n      name: params.name,\n      birthDate: formattedBirthDate,\n      age: params.age,\n      birthCard: formatCardName(params.birthCard),\n      displacingCard: isLifeReport ? null : formatCardName(params.displacingCard),\n      yearlySpread: formattedYearlySpread,\n      analysis: formatAnalysisContent(params.analysis),\n      karmaContent: karmaContent,\n      reportType: reportType\n    });\n    \n    // Generate the CSS content\n    const cssContent = generateCssStyles();\n    \n    // Generate the PDF\n    const pdfBuffer = await generatePdf({\n      html: htmlContent,\n      css: cssContent\n    });\n    \n    console.log('Yearly report generated successfully');\n    return pdfBuffer;\n  } catch (error) {\n    console.error('Error in generateWeasyPrintYearlyReport:', error);\n    throw new Error(`Yearly report generation failed: ${error.message}`);\n  }\n}\n\n/**\n * Format a card name with proper suit symbols\n * \n * @param {string} cardName - The card name (e.g., \"AS\" for Ace of Spades)\n * @returns {string} The formatted card name\n */\nfunction formatCardName(cardName) {\n  if (!cardName) return '';\n  \n  // Handle cards that already have symbols\n  if (cardName.includes('\u2660') || cardName.includes('\u2665') || \n      cardName.includes('\u2666') || cardName.includes('\u2663')) {\n    return cardName;\n  }\n  \n  // Extract the value and suit\n  const value = cardName.slice(0, -1);\n  const suit = cardName.slice(-1).toUpperCase();\n  \n  // Map the suit to a symbol\n  const suitSymbol = SUIT_SYMBOLS[suit] || suit;\n  \n  return `${value}${suitSymbol}`;\n}\n\n/**\n * Format the yearly spread with proper suit symbols\n * \n * @param {Object} yearlySpread - The yearly spread data\n * @returns {Object} The formatted yearly spread\n */\nfunction formatYearlySpread(yearlySpread) {\n  if (!yearlySpread) return {};\n  \n  const formattedSpread = {};\n  \n  for (const [position, card] of Object.entries(yearlySpread)) {\n    formattedSpread[position] = formatCardName(card);\n  }\n  \n  return formattedSpread;\n}\n\n/**\n * Get karma data for a specific card\n * \n * @param {string} cardString - The card string (e.g., \"10\u2665\", \"K\u2660\")\n * @returns {Object|null} Karma data for the card or null if not found\n */\nfunction getCardKarma(cardString) {\n  if (!cardString) return null;\n  \n  try {\n    // Parse the card string to get the value and suit\n    let cardName;\n    \n    // Handle cards that already have symbols\n    if (cardString.includes('\u2660')) {\n      const value = cardString.replace('\u2660', '');\n      cardName = convertValueToFullName(value) + ' of Spades';\n    } else if (cardString.includes('\u2665')) {\n      const value = cardString.replace('\u2665', '');\n      cardName = convertValueToFullName(value) + ' of Hearts';\n    } else if (cardString.includes('\u2666')) {\n      const value = cardString.replace('\u2666', '');\n      cardName = convertValueToFullName(value) + ' of Diamonds';\n    } else if (cardString.includes('\u2663')) {\n      const value = cardString.replace('\u2663', '');\n      cardName = convertValueToFullName(value) + ' of Clubs';\n    } else {\n      // Handle cards without symbols (e.g., \"AS\" for Ace of Spades)\n      const value = cardString.slice(0, -1);\n      const suit = cardString.slice(-1).toUpperCase();\n      \n      let suitName;\n      switch (suit) {\n        case 'S': suitName = 'Spades'; break;\n        case 'H': suitName = 'Hearts'; break;\n        case 'D': suitName = 'Diamonds'; break;\n        case 'C': suitName = 'Clubs'; break;\n        default: suitName = suit;\n      }\n      \n      cardName = convertValueToFullName(value) + ' of ' + suitName;\n    }\n    \n    console.log(`Getting karma for card: ${cardString} (${cardName})`);\n    \n    // Load card data from cards.json\n    const cardsJsonPath = join(process.cwd(), 'cards.json');\n    const cardsData = JSON.parse(fs.readFileSync(cardsJsonPath, 'utf-8'));\n    \n    // Find the card in the data\n    const card = cardsData.find(c => c.Card === cardName);\n    \n    if (card && card['Daily Karma']) {\n      console.log(`Found karma data for card: ${cardName}`);\n      return card['Daily Karma'];\n    }\n    \n    // Try to find the card by searching through all cards\n    for (const c of cardsData) {\n      if (c.Card && c.Card.toLowerCase() === cardName.toLowerCase()) {\n        console.log(`Found karma data for card (case-insensitive): ${cardName}`);\n        return c['Daily Karma'];\n      }\n    }\n    \n    // Try to find the card by searching through all cards and checking the Birthdays field\n    const today = new Date();\n    const month = today.getMonth() + 1; // getMonth() returns 0-11\n    const day = today.getDate();\n    const dateString = `${month}/${day}`;\n    const formattedDateString = new Intl.DateTimeFormat('en-US', { month: 'long', day: 'numeric' }).format(today);\n    \n    for (const c of cardsData) {\n      if (c.Birthdays && Array.isArray(c.Birthdays)) {\n        for (const birthday of c.Birthdays) {\n          if (birthday.includes(dateString) || birthday.includes(formattedDateString)) {\n            console.log(`Found karma data for card by birthday (${birthday}): ${c.Card}`);\n            return c['Daily Karma'];\n          }\n        }\n      }\n    }\n    \n    // Default karma data for cards not found in the JSON\n    console.log(`No karma data found for card: ${cardName}, using default`);\n    return {\n      'Positive Experiences': [\n        'Experiencing personal growth and development',\n        'Finding opportunities for self-expression and creativity',\n        'Building meaningful connections with others',\n        'Discovering new insights about yourself and the world',\n        'Overcoming challenges through perseverance and resilience'\n      ],\n      'Negative Experiences': [\n        'Facing obstacles that test your patience and determination',\n        'Dealing with unexpected changes or disruptions',\n        'Experiencing moments of self-doubt or uncertainty',\n        'Navigating complex decisions or choices',\n        'Encountering situations that require adaptability and flexibility'\n      ]\n    };\n  } catch (error) {\n    console.error('Error getting card karma:', error);\n    return null;\n  }\n}\n\n/**\n * Convert card value to full name (e.g., \"A\" to \"Ace\", \"K\" to \"King\")\n * \n * @param {string} value - The card value\n * @returns {string} The full name of the card value\n */\nfunction convertValueToFullName(value) {\n  switch (value) {\n    case 'A': return 'Ace';\n    case 'K': return 'King';\n    case 'Q': return 'Queen';\n    case 'J': return 'Jack';\n    case '2': return 'Two';\n    case '3': return 'Three';\n    case '4': return 'Four';\n    case '5': return 'Five';\n    case '6': return 'Six';\n    case '7': return 'Seven';\n    case '8': return 'Eight';\n    case '9': return 'Nine';\n    case '10': return 'Ten';\n    default: return value;\n  }\n}\n\n/**\n * Generate karma content for all cards in a yearly spread\n * \n * @param {Object} yearlySpread - The yearly spread object\n * @returns {string} Formatted HTML for all karma data\n */\nfunction generateKarmaContent(yearlySpread) {\n  if (!yearlySpread) return '';\n  \n  // Introduction text for the karma section\n  const introText = `\n    <p>\n      In Cardology, karmas represent the energetic signatures associated with each card. These signatures shape the events, experiences, and opportunities that manifest on any given day. The concept of karmas in Cardology bears a striking resemblance to the ancient Egyptian calendar of good and bad days, which outlined specific experiences and advised on the favorability of initiating new ventures.\n    </p>\n    <p>\n      Each card carries its own unique set of karmas, both positive and negative. These karmas influence the day's events when a particular card is active. For example, a day governed by the Jack of Clubs might bring experiences such as financial concerns, increased risk of car-related issues, intellectual debates, job-related anxieties, or recognition for knowledge and expertise.\n    </p>\n    <p>\n      It's important to understand that anything born or created on a particular day inherits the birthday of that day, along with its corresponding card and all associated karmas. This concept explains many of life's seeming inconsistencies and offers a blueprint for crafting a more harmonious life.\n    </p>\n    <p>\n      The karmas listed for each card in your yearly spread represent potential experiences, both positive and negative, that you may encounter during the period influenced by that card. By being aware of these potential influences, you can better navigate challenges and capitalize on opportunities as they arise.\n    </p>\n    <p>\n      Remember, while karmas suggest potential experiences, your free will and personal choices play a significant role in how these energies manifest in your life. Use this knowledge as a tool for self-awareness and personal growth rather than as a deterministic forecast.\n    </p>\n  `;\n  \n  let html = `<div class=\"karma-intro\">${introText}</div>\\n`;\n  \n  // Process each position in the yearly spread\n  const positions = {\n    sun: 'Sun',\n    mercury: 'Mercury',\n    venus: 'Venus',\n    mars: 'Mars',\n    jupiter: 'Jupiter',\n    saturn: 'Saturn',\n    uranus: 'Uranus',\n    neptune: 'Neptune',\n    pluto: 'Pluto',\n    result: 'Result',\n    peak: 'Peak',\n    moon: 'Moon',\n    earth: 'Earth'\n  };\n  \n  // Convert the yearlySpread object to an array of positions\n  Object.entries(yearlySpread)\n    .filter(([key]) => positions[key])\n    .forEach(([key, card]) => {\n      const positionName = positions[key];\n      const karma = getCardKarma(card);\n      \n      if (karma) {\n        html += `<div class=\"karma-card-section\">\\n`;\n        html += `<h3>${positionName} - ${card}</h3>\\n`;\n        \n        // Format positive experiences\n        if (karma['Positive Experiences'] && karma['Positive Experiences'].length > 0) {\n          html += '<div class=\"karma-positive\">\\n';\n          html += '<h4>Positive Experiences</h4>\\n<ul>\\n';\n          karma['Positive Experiences'].forEach(experience => {\n            html += `<li>${experience}</li>\\n`;\n          });\n          html += '</ul>\\n</div>\\n';\n        }\n        \n        // Format negative experiences\n        if (karma['Negative Experiences'] && karma['Negative Experiences'].length > 0) {\n          html += '<div class=\"karma-negative\">\\n';\n          html += '<h4>Negative Experiences</h4>\\n<ul>\\n';\n          karma['Negative Experiences'].forEach(experience => {\n            html += `<li>${experience}</li>\\n`;\n          });\n          html += '</ul>\\n</div>\\n';\n        }\n        \n        html += `</div>\\n`;\n      }\n    });\n  \n  // Add copyright footer\n  html += `<div class=\"karma-copyright\">Copyright 2025 Aquarius Maximus - www.aquariusmaximus.com</div>\\n`;\n  \n  return html;\n}\n\n/**\n * Format the analysis content as HTML\n * \n * @param {string} analysisContent - The analysis content in Markdown format\n * @returns {string} The formatted analysis content as HTML\n */\nfunction formatAnalysisContent(analysisContent) {\n  if (!analysisContent) return '';\n  \n  // Simple Markdown to HTML conversion\n  let html = analysisContent\n    // Headers\n    .replace(/^# (.*$)/gm, '<h1>$1</h1>')\n    .replace(/^## (.*$)/gm, '<h2>$1</h2>')\n    .replace(/^### (.*$)/gm, '<h3>$1</h3>')\n    .replace(/^#### (.*$)/gm, '<h4>$1</h4>')\n    \n    // Bold\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n    \n    // Italic\n    .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n    \n    // Lists\n    .replace(/^\\s*-\\s*(.*$)/gm, '<li>$1</li>')\n    .replace(/^\\s*\\d+\\.\\s*(.*$)/gm, '<li>$1</li>')\n    \n    // Paragraphs\n    .replace(/\\n\\n/g, '</p><p>');\n  \n  // Wrap in paragraph tags\n  html = '<p>' + html + '</p>';\n  \n  // Fix lists\n  html = html.replace(/<p><li>/g, '<ul><li>');\n  html = html.replace(/<\\/li><\\/p>/g, '</li></ul>');\n  \n  // Fix consecutive list items\n  html = html.replace(/<\\/li><li>/g, '</li>\\n<li>');\n  \n  return html;\n}\n\n/**\n * Generate the HTML template for the report\n * \n * @param {Object} data - The data for the template\n * @returns {string} The HTML template\n */\nfunction generateHtmlTemplate(data) {\n  const isLifeReport = data.reportType === 'life';\n  const reportTitle = isLifeReport ? 'Life Report Analysis' : 'Yearly Deep Dive Analysis';\n  \n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${reportTitle} - ${data.name}</title>\n</head>\n<body>\n  <div class=\"cover-page\">\n    <div class=\"cover-header\">\n      <div class=\"cover-border\"></div>\n      <h1 class=\"cover-title\">${reportTitle}</h1>\n    </div>\n    \n    <div class=\"cover-content\">\n      <h2 class=\"person-name\">${data.name}</h2>\n      \n      <div class=\"birth-cards\">\n        <div class=\"birth-card\" style=\"${data.birthCard && (data.birthCard.includes('\u2665') || data.birthCard.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.birthCard}</div>\n        ${!isLifeReport ? `<div class=\"displacing-card\" style=\"${data.displacingCard && (data.displacingCard.includes('\u2665') || data.displacingCard.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.displacingCard}</div>` : ''}\n      </div>\n      \n      <div class=\"birth-info\">\n        <p>Age: ${data.age}</p>\n        <p>Birth Card: ${data.birthCard}</p>\n        ${!isLifeReport ? `<p>Displacing Card: ${data.displacingCard}</p>` : ''}\n      </div>\n    </div>\n    \n    <div class=\"cover-footer\">\n      <p>Cardology Analysis</p>\n    </div>\n  </div>\n  \n  <div class=\"page-break\"></div>\n  \n  <div class=\"birth-info-section\">\n    <h2>Birth Information</h2>\n    \n    <div class=\"info-box\">\n      <div class=\"info-row\">\n        <div class=\"info-label\">Name:</div>\n        <div class=\"info-value\">${data.name}</div>\n      </div>\n      \n      <div class=\"info-row\">\n        <div class=\"info-label\">Birth Date:</div>\n        <div class=\"info-value\">${data.birthDate}</div>\n      </div>\n      \n      <div class=\"info-row\">\n        <div class=\"info-label\">Age:</div>\n        <div class=\"info-value\">${data.age}</div>\n      </div>\n      \n      <div class=\"info-row\">\n        <div class=\"info-label\">Birth Card:</div>\n        <div class=\"info-value\" style=\"${data.birthCard && (data.birthCard.includes('\u2665') || data.birthCard.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.birthCard}</div>\n      </div>\n      \n      ${!isLifeReport ? `\n      <div class=\"info-row\">\n        <div class=\"info-label\">Displacing Card:</div>\n        <div class=\"info-value\" style=\"${data.displacingCard && (data.displacingCard.includes('\u2665') || data.displacingCard.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.displacingCard}</div>\n      </div>\n      ` : ''}\n    </div>\n  </div>\n  \n  <div class=\"page-break\"></div>\n  \n  <div class=\"yearly-spread-section\">\n    <h2>${isLifeReport ? 'Life Spread' : 'Yearly Spread'}</h2>\n    \n    <div class=\"spread-visualization\">\n      <div class=\"spread-row\">\n        <div class=\"spread-position\">\n          <div class=\"position-label\">Sun</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.sun && (data.yearlySpread.sun.includes('\u2665') || data.yearlySpread.sun.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.sun || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Mercury</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.mercury && (data.yearlySpread.mercury.includes('\u2665') || data.yearlySpread.mercury.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.mercury || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Venus</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.venus && (data.yearlySpread.venus.includes('\u2665') || data.yearlySpread.venus.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.venus || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Mars</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.mars && (data.yearlySpread.mars.includes('\u2665') || data.yearlySpread.mars.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.mars || ''}</div>\n        </div>\n      </div>\n      \n      <div class=\"spread-row\">\n        <div class=\"spread-position\">\n          <div class=\"position-label\">Jupiter</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.jupiter && (data.yearlySpread.jupiter.includes('\u2665') || data.yearlySpread.jupiter.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.jupiter || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Saturn</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.saturn && (data.yearlySpread.saturn.includes('\u2665') || data.yearlySpread.saturn.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.saturn || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Uranus</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.uranus && (data.yearlySpread.uranus.includes('\u2665') || data.yearlySpread.uranus.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.uranus || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Neptune</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.neptune && (data.yearlySpread.neptune.includes('\u2665') || data.yearlySpread.neptune.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.neptune || ''}</div>\n        </div>\n      </div>\n      \n      <div class=\"spread-row\">\n        <div class=\"spread-position\">\n          <div class=\"position-label\">Pluto</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.pluto && (data.yearlySpread.pluto.includes('\u2665') || data.yearlySpread.pluto.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.pluto || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Result</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.result && (data.yearlySpread.result.includes('\u2665') || data.yearlySpread.result.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.result || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Peak</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.peak && (data.yearlySpread.peak.includes('\u2665') || data.yearlySpread.peak.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.peak || ''}</div>\n        </div>\n        \n        <div class=\"spread-position\">\n          <div class=\"position-label\">Moon</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.moon && (data.yearlySpread.moon.includes('\u2665') || data.yearlySpread.moon.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.moon || ''}</div>\n        </div>\n      </div>\n      \n      <div class=\"spread-row\">\n        <div class=\"spread-position\">\n          <div class=\"position-label\">Earth</div>\n          <div class=\"position-card\" style=\"${data.yearlySpread.earth && (data.yearlySpread.earth.includes('\u2665') || data.yearlySpread.earth.includes('\u2666')) ? 'color: #8B0000;' : ''}\">${data.yearlySpread.earth || ''}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <div class=\"page-break\"></div>\n  \n  <div class=\"analysis-section\">\n    <div class=\"analysis-content\">\n      ${data.analysis}\n    </div>\n  </div>\n  \n  ${data.karmaContent ? `\n  <div class=\"page-break\"></div>\n  \n  <div class=\"karma-section\">\n    <h2>${isLifeReport ? 'Life Card Karmas' : 'Yearly Card Karmas'}</h2>\n    <div class=\"karma-content\">\n      ${data.karmaContent}\n    </div>\n  </div>\n  ` : ''}\n  \n  <div class=\"footer\">\n    <div class=\"footer-content\">\n      <p>${data.reportType === 'life' ? 'Life Report' : 'Yearly Deep Dive'} - ${data.name}</p>\n    </div>\n    <div class=\"page-number\"></div>\n  </div>\n</body>\n</html>`;\n}\n\n/**\n * Generate the CSS styles for the yearly report\n * \n * @returns {string} The CSS styles\n */\nfunction generateCssStyles() {\n  return `\n/* Base Styles */\n@page {\n  size: letter;\n  margin: 1cm;\n  @bottom-center {\n    content: counter(page);\n    font-family: Arial, sans-serif;\n    font-size: 10pt;\n  }\n}\n\nbody {\n  font-family: Arial, sans-serif;\n  line-height: 1.6;\n  color: #333333;\n  margin: 0;\n  padding: 0;\n}\n\nh1, h2, h3, h4 {\n  font-family: Arial, sans-serif;\n  color: #8B0000;\n  margin-top: 1.5em;\n  margin-bottom: 0.5em;\n}\n\nh1 {\n  font-size: 28pt;\n  text-align: center;\n}\n\nh2 {\n  font-size: 24pt;\n  border-bottom: 2px solid #C53030;\n  padding-bottom: 5px;\n}\n\nh3 {\n  font-size: 18pt;\n  color: #4A4A4A;\n}\n\nh4 {\n  font-size: 14pt;\n  color: #4A4A4A;\n}\n\np {\n  margin-bottom: 1em;\n}\n\nul, ol {\n  margin-bottom: 1em;\n  padding-left: 2em;\n}\n\nli {\n  margin-bottom: 0.5em;\n}\n\n.page-break {\n  page-break-after: always;\n}\n\n/* Cover Page */\n.cover-page {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 2cm;\n  box-sizing: border-box;\n}\n\n.cover-header {\n  text-align: center;\n  position: relative;\n  padding-bottom: 20px;\n}\n\n.cover-border {\n  border-top: 4px solid #8B0000;\n  width: 100%;\n  margin-bottom: 20px;\n}\n\n.cover-title {\n  font-size: 36pt;\n  color: #8B0000;\n  margin: 0;\n}\n\n.cover-content {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n\n.person-name {\n  font-size: 30pt;\n  color: #4A4A4A;\n  margin-bottom: 40px;\n}\n\n.birth-cards {\n  display: flex;\n  justify-content: center;\n  gap: 40px;\n  margin-bottom: 40px;\n}\n\n.birth-card, .displacing-card {\n  font-size: 24pt; /* Reduced from 48pt to match other cards */\n  padding: 5px; /* Reduced from 15px to make cards more compact */\n  border: 2px solid #C53030;\n  border-radius: 10px;\n  width: 100px; /* Reduced from 120px */\n  height: 100px; /* Reduced from 120px */\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto; /* Center the card */\n}\n\n.birth-info {\n  font-size: 16pt;\n  color: #4A4A4A;\n}\n\n.cover-footer {\n  text-align: center;\n  font-size: 14pt;\n  color: #666666;\n}\n\n/* Birth Information Section */\n.birth-info-section {\n  padding: 20px;\n  margin-bottom: 40px;\n}\n\n.info-box {\n  border: 1px solid #E0E0E0;\n  border-left: 5px solid #C53030;\n  padding: 20px;\n  background-color: #F9F9F9;\n  margin-top: 20px;\n}\n\n.info-row {\n  display: flex;\n  margin-bottom: 10px;\n}\n\n.info-label {\n  font-weight: bold;\n  width: 150px;\n}\n\n.info-value {\n  flex-grow: 1;\n}\n\n/* Yearly Spread Section */\n.yearly-spread-section {\n  padding: 20px;\n  margin-bottom: 40px;\n}\n\n.spread-visualization {\n  margin-top: 30px;\n  width: 100%;\n  max-width: 900px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.spread-row {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 20px;\n  margin-bottom: 40px; /* Reduced margin between rows */\n  width: 100%;\n}\n\n/* Special case for rows with fewer cards */\n.spread-row:nth-child(4) {\n  grid-template-columns: repeat(4, 1fr);\n  grid-column-gap: 20px;\n}\n\n.spread-position {\n  text-align: center;\n  padding: 0 20px; /* Add horizontal padding to each position */\n}\n\n.position-label {\n  font-weight: bold;\n  margin-bottom: 15px; /* Margin below label */\n  color: #4A4A4A;\n  font-size: 14pt;\n}\n\n.position-card {\n  font-size: 24pt;\n  padding: 5px; /* Reduced from 15px to match birth cards */\n  border: 1px solid #E0E0E0;\n  border-radius: 8px;\n  background-color: white;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  width: 100px; /* Reduced from 120px to match birth cards */\n  height: 100px; /* Reduced from 120px to match birth cards */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto 10px auto; /* Center the card and add bottom margin */\n}\n\n/* Default color for cards */\n.position-card {\n  /* Default color for all cards */\n  color: #000000;\n}\n\n/* Analysis Section */\n.analysis-section {\n  padding: 20px;\n}\n\n.analysis-content {\n  line-height: 1.8;\n}\n\n.analysis-content h1 {\n  font-size: 28pt;\n  color: #8B0000;\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.analysis-content h2 {\n  font-size: 24pt;\n  color: #8B0000;\n  border-bottom: 2px solid #C53030;\n  padding-bottom: 5px;\n  margin-top: 40px;\n}\n\n.analysis-content h3 {\n  font-size: 18pt;\n  color: #4A4A4A;\n  margin-top: 30px;\n}\n\n.analysis-content p {\n  margin-bottom: 1em;\n}\n\n.analysis-content ul, .analysis-content ol {\n  margin-bottom: 1em;\n  padding-left: 2em;\n}\n\n.analysis-content li {\n  margin-bottom: 0.5em;\n}\n\n/* Karma Section */\n.karma-section {\n  padding: 20px;\n  margin-bottom: 40px;\n}\n\n.karma-content {\n  line-height: 1.8;\n}\n\n.karma-intro {\n  margin-bottom: 30px;\n  background-color: #F9F9F9;\n  padding: 20px;\n  border-radius: 8px;\n  border-left: 5px solid #C53030;\n}\n\n.karma-card-section {\n  margin-bottom: 40px;\n  padding-bottom: 30px;\n  border-bottom: 1px solid #E0E0E0;\n}\n\n.karma-card-section h3 {\n  color: #8B0000;\n  font-size: 20pt;\n  margin-bottom: 20px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #C53030;\n}\n\n.karma-positive, .karma-negative {\n  margin-bottom: 20px;\n  padding: 15px;\n  border-radius: 8px;\n}\n\n.karma-positive {\n  background-color: rgba(0, 128, 0, 0.05);\n  border-left: 4px solid #008000;\n}\n\n.karma-negative {\n  background-color: rgba(220, 20, 60, 0.05);\n  border-left: 4px solid #DC143C;\n}\n\n.karma-positive h4 {\n  color: #008000;\n}\n\n.karma-negative h4 {\n  color: #DC143C;\n}\n\n.karma-copyright {\n  text-align: center;\n  font-size: 12pt;\n  color: #666666;\n  margin-top: 50px;\n  padding-top: 20px;\n  border-top: 1px solid #E0E0E0;\n  font-style: italic;\n}\n\n/* Footer */\n.footer {\n  position: running(footer);\n  text-align: center;\n  font-size: 10pt;\n  color: #666666;\n  border-top: 1px solid #E0E0E0;\n  padding-top: 10px;\n  margin-top: 40px;\n}\n\n.footer-content {\n  display: flex;\n  justify-content: space-between;\n}\n\n.page-number:before {\n  content: counter(page);\n}\n`;\n}\n\nexport {\n  generateWeasyPrintYearlyReport\n};\n"],
  "mappings": "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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsWT;",
  "names": ["fs"]
}
